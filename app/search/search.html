<div class="col-md-12">
    <div class="panel panel-default margin-top-15px">
        <div class="panel-heading">
            <div class="row">
                <div class="col-md-6">
                    <h3 class="panel-title">Search Variants</h3>
                </div>
                <div class="col-md-6">
                    <div class="input-group">
                        <input type="text" class="form-control no-margin" placeholder="Enter Variant" data-ng-model="selectedVariant">
                        <div class="input-group-btn">
                            <button class="btn btn-primary no-margin" data-ng-click="getVariantInformation();">
                                <i class="fa fa-search"></i>
                            </button>
                            <button class="btn btn-warning no-margin" data-ng-click="selectedVariant = ''; variantInformation = '';">
                                <i class="fa fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div data-ng-show="variantInformation" class="panel-body">
            <div class="col-md-6">
                <h3>Details</h3>
                <table id="variant-information-table" class="table-responsive borderless no-select">
                    <tbody>
                    <tr><th>Variant</th><td>{{variantInformation.variantId}}</td></tr>
                    <tr><th>Functional Annotation</th><td><i class="fa fa-info-circle" data-ng-click="openVariantAnnotationModal(variantInformation)"></i></td></tr>
                    <tr><th>dbSNP</th><td><a data-ng-show="variantInformation.dbSnpId" href="http://www.ncbi.nlm.nih.gov/projects/SNP/snp_ref.cgi?rs={{variantInformation.dbSnpId}}" target="_blank">{{variantInformation.dbSnpId}}</a></td></tr>
                    <tr><th>Occurrence</th><td><i data-ng-click="openVariantOccurrenceModal(variantInformation)" class="fa fa-binoculars"></i> {{variantInformation.occurrence}}</td></tr>
                    <tr><th>Population</th><td>
                        <div class="btn-toolbar" role="toolbar">
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-sq-xs" data-ng-click="open1kgVariantLink(variantInformation.variantId)" tooltip-enable="variantInformation.exacAfrAf" tooltip-append-to-body="true" uib-tooltip="1KG East Asian {{variantInformation.exacAfrAf}}%" data-ng-style="{'background-color' : (variantInformation.exacAfrAf | afpct2colour)}"></button>
                                <button type="button" class="btn btn-sq-xs" data-ng-click="open1kgVariantLink(variantInformation.variantId)" tooltip-enable="variantInformation.exacAmrAf" tooltip-append-to-body="true" uib-tooltip="1KG European {{variantInformation.exacAmrAf}}%" data-ng-style="{'background-color' : (variantInformation.exacAmrAf | afpct2colour)}"></button>
                                <button type="button" class="btn btn-sq-xs" data-ng-click="open1kgVariantLink(variantInformation.variantId)" tooltip-enable="variantInformation.exacEasAf" tooltip-append-to-body="true" uib-tooltip="1KG African {{variantInformation.exacEasAf}}%" data-ng-style="{'background-color' : (variantInformation.exacEasAf | afpct2colour)}"></button>
                                <button type="button" class="btn btn-sq-xs" data-ng-click="open1kgVariantLink(variantInformation.variantId)" tooltip-enable="variantInformation.onekGPhase3_AMR_AF" tooltip-append-to-body="true" uib-tooltip="1KG Mixed American {{variantInformation.onekGPhase3_AMR_AF}}%" data-ng-style="{'background-color' : (variantInformation.onekGPhase3_AMR_AF | afpct2colour)}"></button>
                                <button type="button" class="btn btn-sq-xs" data-ng-click="open1kgVariantLink(variantInformation.variantId)" tooltip-enable="variantInformation.onekGPhase3_SAS_AF" tooltip-append-to-body="true" uib-tooltip="1KG South Asian {{variantInformation.onekGPhase3_SAS_AF}}%" data-ng-style="{'background-color' : (variantInformation.onekGPhase3_SAS_AF | afpct2colour)}"></button>
                            </div>
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-sq-xs" data-ng-click="openExACVariantLink(variantInformation.variantId)" tooltip-enable="variantInformation.ExAC_EAS_AF" tooltip-append-to-body="true" uib-tooltip="ExAC East Asian {{variantInformation.ExAC_EAS_AF}}%" data-ng-style="{'background-color' : (variantInformation.ExAC_EAS_AF | afpct2colour)}"></button>
                                <button type="button" class="btn btn-sq-xs" data-ng-click="openExACVariantLink(variantInformation.variantId)" tooltip-enable="variantInformation.ExAC_NFE_AF" tooltip-append-to-body="true" uib-tooltip="ExAC Non-Finnish European {{variantInformation.ExAC_NFE_AF}}%" data-ng-style="{'background-color' : (variantInformation.ExAC_NFE_AF | afpct2colour)}"></button>
                                <button type="button" class="btn btn-sq-xs" data-ng-click="openExACVariantLink(variantInformation.variantId)" tooltip-enable="variantInformation.ExAC_AFR_AF" tooltip-append-to-body="true" uib-tooltip="ExAC African {{variantInformation.ExAC_AFR_AF}}%" data-ng-style="{'background-color' : (variantInformation.ExAC_AFR_AF | afpct2colour)}"></button>
                                <button type="button" class="btn btn-sq-xs" data-ng-click="openExACVariantLink(variantInformation.variantId)" tooltip-enable="variantInformation.ExAC_AMR_AF" tooltip-append-to-body="true" uib-tooltip="ExAC Latino {{variantInformation.ExAC_AMR_AF}}%" data-ng-style="{'background-color' : (variantInformation.ExAC_AMR_AF | afpct2colour)}"></button>
                                <button type="button" class="btn btn-sq-xs" data-ng-click="openExACVariantLink(variantInformation.variantId)" tooltip-enable="variantInformation.ExAC_SAS_AF" tooltip-append-to-body="true" uib-tooltip="ExAC South Asian {{variantInformation.ExAC_SAS_AF}}%" data-ng-style="{'background-color' : (variantInformation.ExAC_SAS_AF | afpct2colour)}"></button>
                                <button type="button" class="btn btn-sq-xs" data-ng-click="openExACVariantLink(variantInformation.variantId)" tooltip-enable="variantInformation.ExAC_FIN_AF" tooltip-append-to-body="true" uib-tooltip="ExAC Finnish {{variantInformation.ExAC_FIN_AF}}%" data-ng-style="{'background-color' : (variantInformation.ExAC_FIN_AF | afpct2colour)}"></button>
                                <button type="button" class="btn btn-sq-xs" data-ng-click="openExACVariantLink(variantInformation.variantId)" tooltip-enable="variantInformation.ExAC_OTH_AF" tooltip-append-to-body="true" uib-tooltip="ExAC Other {{variantInformation.ExAC_OTH_AF}}%" data-ng-style="{'background-color' : (variantInformation.ExAC_OTH_AF | afpct2colour)}"></button>
                            </div>
                        </div>
                    </td></tr>
                    <tr><th>Conservation</th><td>
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-sq-xs" tooltip-enable="variantInformation.gerp" tooltip-append-to-body="true" uib-tooltip="GERP {{variantInformation.gerp}}" data-ng-style="{'background-color' : (variantInformation.gerp | gerp2colour)}"></button>
                            <button type="button" class="btn btn-sq-xs" tooltip-enable="variantInformation.phyloP" tooltip-append-to-body="true" uib-tooltip="phyloP {{variantInformation.phyloP}}" data-ng-style="{'background-color' : (variantInformation.phyloP | phylop2colour)}"></button>
                            <button type="button" class="btn btn-sq-xs" tooltip-enable="variantInformation.phastCons" tooltip-append-to-body="true" uib-tooltip="phastCons {{variantInformation.phastCons}}" data-ng-style="{'background-color' : (variantInformation.phastCons | phastcons2colour)}"></button>
                        </div>
                    </td></tr>
                    <tr><th>Links</th>
                        <td>
                            <div class="dropdown">
                                <i class="fa fa-external-link" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"></i>
                                <ul class="dropdown-menu">
                                    <li class="dropdown-header">Browsers</li>
                                    <li><a data-ng-click="openEnsemblVariantLink(variantInformation.variantId)">Ensembl</a></li>
                                    <li><a data-ng-click="openUCSCVariantLink(variantInformation.variantId)">UCSC</a></li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <form role="form">
                    <div class="form-group">
                        <h3>Pathogenicity</h3>
                        <select class="form-control" data-ng-model="selectedPathogenicity">
                            <option value="1">Benign Variant</option>
                            <option value="2">Likely Benign Variant</option>
                            <option value="3">Unclassified Variant</option>
                            <option value="4">Likely Pathogenic Variant</option>
                            <option value="5">Pathogenic Variant</option>
                        </select>
                    </div>
                </form>
                <div class="form-group">
                    <textarea class="form-control" placeholder="Give evidence" rows="3" data-ng-model="pathogenicityEvidenceText"></textarea>
                </div>
                <button type="button" class="btn btn-success" data-ng-click="addVariantPathogenicity()">
                    <i class="fa fa-pencil"></i> Update
                </button>
            </div>
            <div class="col-md-6">
                <h3>History <span class="badge">{{variantInformation.history.length}}</span></h3>
                <ul class="list-group s-scroll">
                    <li class="list-group-item" data-ng-repeat="item in variantInformation.history | orderBy:'addedDate':true">
                        <p><b>Pathogenicity class {{item.classification}}</b></p>
                        <p data-ng-show="item.addEvidence != null">{{item.addEvidence}}</p>
                        <p>Added by {{item.addedByUserId}} {{item.addedDate | date:"dd/MM/yy"}}</p>
                        <p data-ng-show="item.addAuthorisedByUserId">Add authorised by {{item.addAuthorisedByUserId}} {{item.addAuthorisedDate | date:"dd/MM/yy"}}</p>
                        <p data-ng-show="item.removedEvidence != null">{{item.removedEvidence}}</p>
                        <p data-ng-show="item.removedByUserId">Removed by {{item.removedByUserId}} {{item.removedDate | date:"dd/MM/yy"}}</p>
                        <p data-ng-show="item.removeAuthorisedByUserId">Remove authorised by {{item.removeAuthorisedByUserId}} {{item.removeAuthorisedDate | date:"dd/MM/yy"}}</p>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="col-md-12">
    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="row">
                <div class="col-md-6">
                    <h3 class="panel-title">Search Transcripts</h3>
                </div>
                <div class="col-md-6">
                    <div class="input-group">
                        <input type="text" class="form-control no-margin" placeholder="Enter Transcript" data-ng-model="selectedFeature">
                        <div class="input-group-btn">
                            <button class="btn btn-primary no-margin" data-ng-click="getFeature();">
                                <i class="fa fa-search"></i>
                            </button>
                            <button class="btn btn-warning no-margin" data-ng-click="selectedFeature = ''; featureInformation = '';">
                                <i class="fa fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div data-ng-show="featureInformation" class="panel-body">
            <div class="col-md-6">
                <h3>Details <i data-ng-show="featureInformation.preferred" class="fa fa-star"></i></h3>
                <table id="feature-table" class="table-responsive borderless no-select">
                    <tbody>
                    <tr><th>Transcript</th><td><a id="feature-link" href="http://grch37.ensembl.org/Homo_sapiens/Location/View?t={{featureInformation.featureId}}" target="_blank">{{featureInformation.featureId}}</a></td></tr>
                    <tr><th>Strand</th><td>{{featureInformation.Strand}}</td></tr>
                    <tr><th>CCDS</th><td><a id="ccds-link" href="http://www.ncbi.nlm.nih.gov/CCDS/CcdsBrowse.cgi?REQUEST=CCDS&DATA={{featureInformation.ccdsId}}" target="_blank">{{featureInformation.ccdsId}}</a></td></tr>
                    <tr><th>Type</th><td>{{featureInformation.featureType}}</td></tr>
                    <tr><th>Exons</th><td>{{featureInformation.totalExons}}</td></tr>
                    <tr><th>Canonical</th><td>{{featureInformation.canonical}}</td></tr>
                    </tbody>
                </table>
                <h3>Preferred Transcript</h3>
                <div class="form-group">
                    <textarea class="form-control" placeholder="Give evidence" rows="3" data-ng-model="preferredFeatureEvidenceText"></textarea>
                </div>
                <button type="button" data-ng-class="{'btn btn-success': !featureInformation.Preferred, 'btn btn-warning': featureInformation.Preferred}" data-ng-click="changeFeaturePreference(featureInformation); preferredFeatureEvidenceText = ''">
                    <i class="fa fa-pencil"></i> Update
                </button>
            </div>
            <div class="col-md-6">
                <h3>History <span class="badge">{{featureInformation.history.length}}</span></h3>
                <ul class="list-group s-scroll">
                    <li class="list-group-item" data-ng-repeat="item in featureInformation.history | orderBy:'Date':true">
                        <h5>{{item.addEvidence}}</h5>
                        <h6>Added by {{item.addedByUserId}} ({{item.addedDate | date:"dd/MM/yy"}})</h6>
                        <h6 data-ng-show="item.authorisedByUserId">Authorised by {{item.authorisedByUserId}} ({{item.authorisedDate | date:"dd/MM/yy"}})</h6>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="col-md-12">
    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="row">
                <div class="col-md-6">
                    <h3 class="panel-title">Search Panels</h3>
                </div>
                <div class="col-md-6">
                    <div class="input-group">
                        <input type="text" class="form-control no-margin" placeholder="Enter Panel" data-ng-model="selectedVirtualPanel" typeahead-template-url="templates/VirtualPanelTypeahead.html" uib-typeahead="virtualPanel as virtualPanel.virtualPanelName for virtualPanel in virtualPanels | filter:$viewValue | limitTo:5">
                        <div class="input-group-btn">
                            <button class="btn btn-primary no-margin" data-ng-click="getVirtualPanel();">
                                <i class="fa fa-search"></i>
                            </button>
                            <button class="btn btn-warning no-margin" data-ng-click="selectedVirtualPanel = ''; virtualPanel = ''; search = '';">
                                <i class="fa fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div data-ng-show="virtualPanel" class="panel-body">
            <div class="col-md-6">
                <h3>Details</h3>
                <table id="gene-table" class="table-responsive borderless no-select">
                    <tbody>
                    <tr><th>Panel Name</th><td>{{virtualPanel.virtualPanelName}}</td></tr>
                    <tr><th>Created</th><td>{{virtualPanel.fullName}} {{virtualPanel.date | date:"dd/MM/yy"}}</td></tr>
                    </tbody>
                </table>
            </div>
            <div class="col-md-6">
                <h3>Content</h3>
                <table class="table-responsive table-bordered table-hover no-select">
                    <thead>
                    <tr>
                        <th colspan="2" width="100%">
                            <input type="text" class="form-control no-margin" placeholder="Search" data-ng-model="search">
                        </th>
                    </tr>
                    <tr>
                        <th width="75%" data-ng-click="sortType = 'SymbolId'; sortReverse = !sortReverse">
                            Symbol <i data-ng-class="sortReverse ? 'fa fa-sort-alpha-desc' : 'fa fa-sort-alpha-asc'" data-ng-show="sortType == 'symbolId'"></i>
                        </th>
                    </tr>
                    </thead>
                    <tbody data-ng-repeat="symbol in virtualPanel.symbols | orderBy:sortType:sortReverse | filter:search">
                    <tr>
                        <td width="75%"><a id="symbol-link" href="http://omim.org/search?search={{symbol.symbolId}}" target="_blank">{{symbol.symbolId}}</a></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<div class="col-md-12">
    <p></p>
</div>