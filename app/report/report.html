<div class="jumbotron">
    <div class="container">
        <h1 ng-hide="filteredVariants">Welcome to the AWMGS VariantDatabase</h1>
        <h3 id="instructionMessage" ng-hide="filteredVariants">Enter the required information below to get started</h3>
        <div class="col-md-12"><nvd3 options="donutChartOptions" data="filteredVariants.Filters"></nvd3></div>
    </div>
</div>
<div class="col-md-3">
    <input type="text" class="form-control" placeholder="Enter Proband Identifier" ng-model="selectedAnalysis" typeahead-template-url="templates/ProbandTypeahead.html" uib-typeahead="analysis as analysis.SampleId for analysis in analyses | filter:{SampleId:$viewValue} | limitTo:4">
</div>
<div class="col-md-3">
    <input type="text" class="form-control" placeholder="Enter Virtual Panel Name" ng-model="selectedVirtualPanel" typeahead-template-url="templates/VirtualPanelTypeahead.html" uib-typeahead="panel as panel.VirtualPanelName for panel in virtualPanels | filter:{VirtualPanelName:$viewValue} | limitTo:4">
</div>
<div class="col-md-3">
    <input type="text" class="form-control" placeholder="Enter Workflow Name" ng-model="selectedWorkflow" typeahead-template-url="templates/WorkflowTypeahead.html" uib-typeahead="workflow as workflow.Name for workflow in workflows | filter:{Name:$viewValue} | limitTo:4">
</div>
<div class="col-md-1">
    <button id="searchButton" type="button" class="btn btn-primary" ng-click="getFiteredVariants()">
        <span class="glyphicon glyphicon-filter" aria-hidden="true"></span> Filter
    </button>
</div>
<div class="col-md-1">
    <button id="exportButton" type="button" class="btn btn-success" ng-click="exportVariants()">
        <span class="glyphicon glyphicon-floppy-save" aria-hidden="true"></span> Save
    </button>
</div>
<div class="col-md-1">
    <button id="clearButton" type="button" class="btn btn-warning" ng-click="selectedAnalysis = null; selectedVirtualPanel = null; selectedWorkflow = null; filteredVariants = null; selectedVariantFilter = -1;">
        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Clear
    </button>
</div>
<div class="col-md-12">

        <table id="variantTable" ng-hide="selectedVariantFilter == -1" class="table table-bordered table-hover noSelect">
            <thead>
            <tr>
                <th width="2.5%"><span class="glyphicon glyphicon-star noSelect"></span></th>
                <th width="2.5%"><span class="glyphicon glyphicon-plus noSelect"></span></th>
                <th width="2.5%"><span class="glyphicon glyphicon-list-alt noSelect"></span></th>
                <th width="2.5%"><span class="glyphicon glyphicon-search noSelect"></span></th>
                <th width="50%">Variant</th>
                <th width="10%">Inheritance</th>
                <th width="10%"><a id="occurrenceFilter" ng-click="sortType = 'Occurrence'; sortReverse = !sortReverse">Occurrence <span ng-class="sortReverse ? 'glyphicon glyphicon-triangle-top' : 'glyphicon glyphicon-triangle-bottom'" ng-show="sortType == 'Occurrence'"></span></a></th>
                <th width="10%"><a id="internalFrequencyFilter" ng-click="sortType = 'InternalFrequency'; sortReverse = !sortReverse">Frequency % <span ng-class="sortReverse ? 'glyphicon glyphicon-triangle-top' : 'glyphicon glyphicon-triangle-bottom'" ng-show="sortType == 'InternalFrequency'"></span></a></th>
                <th width="10%"><a id="dbSNPIdFilter" ng-click="sortType = 'dbSNPId'; sortReverse = !sortReverse">dbSNP <span ng-class="sortReverse ? 'glyphicon glyphicon-triangle-top' : 'glyphicon glyphicon-triangle-bottom'" ng-show="sortType == 'dbSNPId'"></span></a></th>
            </tr>
            </thead>
            <tbody ng-repeat="variant in filteredVariants.Variants | orderBy:sortType:sortReverse | filter:{Filter:selectedVariantFilter}:true track by variant.VariantNodeId">
            <tr>
                <td width="2.5%"><input type="checkbox" ng-model="variant.Selected"></td>
                <td width="2.5%"><span class="glyphicon glyphicon-eye-open" ng-click="openVariantInformationModal(variant)"></span></td>
                <td width="2.5%">
                    <div class="dropdown noSelect">
                        <a id="externalLinkButton" class="glyphicon glyphicon-link" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"></a>
                        <ul class="dropdown-menu">
                            <li class="dropdown-header">Browsers</li>
                            <li><a ng-click="openEnsemblLink(variant.VariantId)">Ensembl</a></li>
                            <li><a ng-click="openUCSCLink(variant.VariantId)">UCSC</a></li>
                            <li><a ng-click="openExACLink(variant.VariantId)">ExAC</a></li>
                        </ul>
                    </div>
                </td>
                <td width="2.5%" id="igvTd">
                    <input class="image-responsive noPadding noMargin" type="image" src="/images/igv_icon.png" height="20" width="20" ng-click="launchIGV(selectedAnalysis.RemoteBamFilePath, variant.VariantId);"/>
                </td>
                <td width="50%">{{variant.VariantId}}</td>
                <td width="10%">{{variant.Inheritance}}</td>
                <td width="10%">{{variant.Occurrence}}</td>
                <td width="10%">{{variant.InternalFrequency}}</td>
                <td width="10%"><a ng-show="variant.dbSNPId" href="http://www.ncbi.nlm.nih.gov/projects/SNP/snp_ref.cgi?rs={{variant.dbSNPId}}" target="_blank">{{variant.dbSNPId}}</a></td>
            </tr>
            </tbody>
        </table>

</div>
<div class="col-md-12">
    <p></p>
</div>
